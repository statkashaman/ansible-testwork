<VirtualHost *:80>
        ServerName {{ zabbix_server_name }}

        DocumentRoot /usr/share/zabbix

        <Directory "/usr/share/zabbix">
            Options FollowSymLinks
            AllowOverride None
            Order allow,deny
            Allow from all

            php_value max_execution_time {{ zabbix_front_php_max_execution_time }}
            php_value memory_limit {{ zabbix_front_php_memory_limit }}
            php_value post_max_size {{ zabbix_front_php_post_max_size }}
            php_value upload_max_filesize {{ zabbix_front_php_upload_max_filesize }}
            php_value max_input_time {{ zabbix_front_php_max_input_time }}
        </Directory>

        <Directory "/usr/share/zabbix/conf">
            Order deny,allow
            Deny from all
            <files *.php>
                Order deny,allow
                Deny from all
            </files>
        </Directory>

        <Directory "/usr/share/zabbix/api">
            Order deny,allow
            Deny from all
            <files *.php>
                Order deny,allow
                Deny from all
            </files>
        </Directory>

        <Directory "/usr/share/zabbix/include">
            Order deny,allow
            Deny from all
            <files *.php>
                Order deny,allow
                Deny from all
            </files>
        </Directory>

        <Directory "/usr/share/zabbix/include/classes">
            Order deny,allow
            Deny from all
            <files *.php>
                Order deny,allow
                Deny from all
            </files>
        </Directory>

</VirtualHost>
